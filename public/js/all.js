var painted=!1,canReset=!0,initialSelected=!1,endSelected=!1,boundSelected=!1,inicio=null,inicioXY=null,fim=null,fimXY=null,grid=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function setInitial(){"use strict";$("#initButton").prop("checked")?($("#initButton").bootstrapToggle("on"),$("#endButton").bootstrapToggle("off"),$("#boundButton").bootstrapToggle("off"),initialSelected=!0,endSelected=!1,boundSelected=!1):initialSelected=!1}function setEnd(){"use strict";$("#endButton").prop("checked")?($("#initButton").bootstrapToggle("off"),$("#endButton").bootstrapToggle("on"),$("#boundButton").bootstrapToggle("off"),endSelected=!0,initialSelected=!1,boundSelected=!1):endSelected=!1}function setBound(){"use strict";$("#boundButton").prop("checked")?($("#initButton").bootstrapToggle("off"),$("#endButton").bootstrapToggle("off"),$("#boundButton").bootstrapToggle("on"),boundSelected=!0,initialSelected=!1,endSelected=!1):boundSelected=!1}function teste(){"use strict";console.log("i: "+initialSelected),console.log("e: "+endSelected),console.log("b: "+boundSelected),console.log("inicio: "+inicio),console.log("inicioXY: "+inicioXY),console.log("fim: "+fim),console.log("fimXY: "+fimXY),console.log(grid)}function setButtonValue(e,t){"use strict";initialSelected&&(event.target.classList.remove("checked-fim"),event.target.classList.remove("checked-barreira"),event.target.classList.remove("checked-caminhando"),event.target.classList.remove("checked-melhor"),null!=inicio&&(inicio.classList.remove("checked-inicio"),grid[inicioXY.x][inicioXY.y]=0),null!=inicioXY&&inicioXY.x==e&&inicioXY.y==t?(inicio=null,inicioXY=null):(inicio=event.target,inicioXY={x:e,y:t},event.target.classList.add("checked-inicio"),grid[e][t]=0),null!=fimXY&&fimXY.x==e&&fimXY.y==t&&(fimXY=null,fim=null),$("#initButton").bootstrapToggle("off"),initialSelected=!1),endSelected&&(event.target.classList.remove("checked-inicio"),event.target.classList.remove("checked-barreira"),event.target.classList.remove("checked-caminhando"),event.target.classList.remove("checked-melhor"),null!=fim&&(fim.classList.remove("checked-fim"),grid[fimXY.x][fimXY.y]=0),null!=fimXY&&fimXY.x==e&&fimXY.y==t?(fimXY=null,fim=null):(fim=event.target,fimXY={x:e,y:t},event.target.classList.add("checked-fim"),grid[e][t]=0),null!=inicioXY&&inicioXY.x==e&&inicioXY.y==t&&(inicioXY=null,inicio=null),$("#endButton").bootstrapToggle("off"),endSelected=!1),boundSelected&&(event.target.classList.remove("checked-inicio"),event.target.classList.remove("checked-fim"),event.target.classList.remove("checked-caminhando"),event.target.classList.remove("checked-melhor"),null!=inicioXY&&inicioXY.x==e&&inicioXY.y==t&&(inicioXY=null,inicio=null),null!=fimXY&&fimXY.x==e&&fimXY.y==t&&(fimXY=null,fim=null),0==grid[e][t]?(event.target.classList.add("checked-barreira"),grid[e][t]=1):(event.target.classList.remove("checked-barreira"),grid[e][t]=0))}function reset(){if(canReset){for(let e=0;e<16;e++)for(let t=0;t<20;t++)grid[e][t]=0,$("#"+String(e).concat("_"+String(t))).removeClass("checked-caminhando"),$("#"+String(e).concat("_"+String(t))).removeClass("checked-inicio"),$("#"+String(e).concat("_"+String(t))).removeClass("checked-fim"),$("#"+String(e).concat("_"+String(t))).removeClass("checked-barreira"),$("#"+String(e).concat("_"+String(t))).removeClass("checked-melhor"),$("#initButton").bootstrapToggle("off"),$("#endButton").bootstrapToggle("off"),$("#boundButton").bootstrapToggle("off"),$("#"+String(e).concat("_"+String(t))).html(""),initialSelected=!1,endSelected=!1,boundSelected=!1,inicio=null,inicioXY=null,fim=null,fimXY=null;painted=!1}}function sleep(e){return new Promise(t=>setTimeout(t,e))}function start(){"use strict";if(event.preventDefault(),painted)return;if(null==inicioXY||null==fimXY)return alert("Defina um in√≠cio e fim");let e="https://graphsearchapi.herokuapp.com/search/"+$("#algorithm").val();$.ajax({url:e,type:"POST",contentType:"application/json",data:JSON.stringify({grid:grid,initialX:inicioXY.x,initialY:inicioXY.y,endX:fimXY.x,endY:fimXY.y}),dataType:"json",success:async function(e){painted=!0,initialSelected=!1,endSelected=!1,boundSelected=!1,canReset=!1,$("#initButton").bootstrapToggle("off"),$("#endButton").bootstrapToggle("off"),$("#boundButton").bootstrapToggle("off");let t=e.nodes.length;for(let i=0;i<t;i++)0!==i&&i!==t-1&&$("#"+String(e.nodes[i].x).concat("_"+String(e.nodes[i].y))).addClass("checked-caminhando"),0===e.path.length&&i===t-1&&$("#"+String(e.nodes[i].x).concat("_"+String(e.nodes[i].y))).addClass("checked-caminhando"),$("#"+String(e.nodes[i].x).concat("_"+String(e.nodes[i].y))).html("Lv."+e.nodes[i].level),await sleep(100);if(e.path.length>0){t=e.path.length-1;for(let i=1;i<t;i++)$("#"+String(e.path[i].x).concat("_"+String(e.path[i].y))).addClass("checked-melhor"),await sleep(100)}canReset=!0},fail:function(e,t,i){canReset=!0,painted=!0,alert(i)}})}$(document).on("click",function(){"use strict";painted?(initialSelected=!1,endSelected=!1,boundSelected=!1,$("#initButton").bootstrapToggle("off"),$("#endButton").bootstrapToggle("off"),$("#boundButton").bootstrapToggle("off"),canReset&&alert("Resete para poder executar novamente")):("initButton"==event.target.getAttribute("for")&&setInitial(),"endButton"==event.target.getAttribute("for")&&setEnd(),"boundButton"==event.target.getAttribute("for")&&setBound())});
